<!--  
  Name    : corrEditFileParam.jsp
  Author  : 
  Purpose : 

  Modification History:
    29/03/10  : jyoti :3.6.2 -Initial Version
  Notes   : None
-->

<!--  
  Name   : correlationHeader.jspf
  Author : jyoti
  Purpose: This is for correlation GUI. It it to be included in all JSP
           on the top for for following :
           - Import of packages 
           - Initialization of beans and js
           - JSP variables which are common to all JSPs
  Notes  :
    None
  Modification History:
    29/03/10  : jyoti :3.6.2 -Initial Version

-->













<!-- This is required for firefox b'coz it does not refresh the screen.when we select the option then click on another tab or OK button after again open the same screen . It does not show the changed value means it takes value from the cache.when we reload the screen then it gives new value. -->


<link rel="stylesheet" href="../css/AdvancedNetstorm.css" type="text/css" media="all"/>
<link rel="stylesheet" href="../css/Netstorm.css" type="text/css" media="all"/>


<link rel="stylesheet" type="text/css" href="../yui/css/menu.css"/>
<link rel="stylesheet" type="text/css" href="../yui/css/menu.css"/>
<link rel="stylesheet" type="text/css" href="../yui/css/fonts-min.css" />
<link rel="stylesheet" type="text/css" href="../yui/css/container.css" />

<script type="text/javascript" src="../js/jquery-latest.js"></script>
<script language="javascript" src="corrSettingHints.js"></script>
<script language="javascript" src="../js/sortableTable.js"></script>
<script type="text/javascript" src="../js/jquery-impromptu.js"></script>
<link rel="stylesheet" type="text/css" href="../css/jquery-impromptu.css">
<script language="javascript" src="corrUtils.js"></script>

<script language="javascript" src="../js/sortableTable.js"></script>
<!----<script language="javascript" src="help.js"></script>--->
<script language="javascript" src="../js/nsUtils.js"></script>


   <script type="text/javascript" src="../js/prototype.js"></script>
   <script type="text/javascript" src="../js/fastinit.js"></script>
   <script type="text/javascript" src="../js/tablekit.js"></script>


<script language="javascript"  src="../js/tableEnhancement.js"></script>
<script language="javascript"  src="../js/tablePagination.js"></script>

<script language="javascript" src="../js/validation.js"></script>
<script language="javascript" src="corrValidateCondition.js"></script>
<script language="javascript" src="../js/nsStringUtils.js"></script>
<script language="javascript" src="../js/help.js"></script>

<script language="javascript" src="../yui/js/yahoo-dom-event.js"></script>
<script language="javascript" src="../yui/js/container_core-min.js"></script>
<script language="javascript" src="../yui/js/menu-min.js"></script>


<!-- Combo-handled YUI JS files: -->
<!--<script type="text/javascript" src="http://yui.yahooapis.com/combo?2.8.2r1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/combo?&2.8.2r1/build/container/container_core-min.js"></script>
<script type="text/javascript" src="http://yui.yahooapis.com/combo?2.8.2r1/build/menu/menu-min.js"></script>-->


<script language="javascript" src="../yui/js/yahoo-dom-event.js"></script>
<script language="javascript" src="../yui/js/container_core-min.js"></script>
<script language="javascript" src="../yui/js/menu-min.js"></script>

<script type="text/javascript" src="../yui/js/connection-min.js"></script>
<script type="text/javascript" src="../yui/js/animation-min.js"></script>
<script type="text/javascript" src="../yui/js/dragdrop-min.js"></script>
<script type="text/javascript" src="../yui/js/container-min.js"></script>


<script> YAHOO.namespace("example.container"); </script>

<script type="text/javascript">
<!--
// this is put up for help pop-up
// Override the default settings to point to the parent directory
//


//-->
</script>
<script language="javascript">






  




window.onbeforeunload = confirmExit

function confirmExit()
{
  if (warnMessage != null) 
  {
    return warnMessage;
  }
}

var warnMessage = null;
jQuery(document).ready(function() {
   jQuery('input:not(:button,:submit),textarea,select').change(function () {

	//window.opener.isDataChanged = true;	
        warnMessage = "You have unsaved changes on this page!";
	//alert("The value of the flag is "+isDataChanged)
    });
    jQuery('input:submit').click(function(e) {
        warnMessage = null;
    });
});


var arrFileRestrictedKey = new Array();
var arrVariableName = new Array();

arrFileRestrictedKey[0] = 'FILE'
arrFileRestrictedKey[1] = 'REFRESH'
arrFileRestrictedKey[2] = 'MODE'
arrFileRestrictedKey[3] = 'VAR_VALUE'



function onLoadFunction()
{
  
  document.frmMain.txtParamName.value = '';
  document.frmMain.txtFileName.value = '';
  document.frmMain.txtParamValue.value = ''; 
 
  //according to the flag we set the warning message for next time 
  if('false' !="false")
    warnMessage = "You have unsaved changes on this page!";

  if('' == "fileContent")
    document.frmMain.txtFileName.value = ''; 
  
  document.frmMain.txtFileContents.value = ''; 
  
  if('' == "")
  {
    document.frmMain.chkParamValue.checked = false;
    showDefaultValue();
  }
  else
  {
    document.frmMain.chkParamValue.checked = true;
  }

  document.frmMain.txtFirstDataLine.value = '1';
  document.frmMain.txtColumnDel.value = ',';
  document.frmMain.txtHeaderLine.value = '0';
  
  document.frmMain.lstRefresh.value = '';
  document.frmMain.lstMode.value = '';

  if('' == "browser")
    document.frmMain.txtFileContents.value = ''; 
    
  if('addFileParam' != "addFileParam")
  {
    if('' != '')
    {
      if('' == '0')
      {
        alert("Parameter name has been changed. The new name has been applied to " + '' + " occurrences of the old name found in this service.")
        submitJSP("Cancel", "")
          
      }
      else if('' != "0")
      {
        if(confirm("Parameter name has been changed. The new name has been applied to " + '' + " occurrences of the old name found in this service.\n\nCallback code contains references to the old parameter name. Edit this now?") == true)
        {
          openCalBackWin()
        }
        else
        {
          submitJSP("Cancel", "")
        }
      }
    }
  }  
  
  //Check for Observer Group Users.
    
}

window.onbeforeunload = confirmExit

function confirmExit()
{
  if (warnMessage != null) return warnMessage;
}

var warnMessage = null;
$(document).ready(function() {
    $('input:not(:button,:submit),textarea,select').change(function () {
        warnMessage = "You have unsaved changes on this page!";
    });
    $('input:submit').click(function(e) {
        warnMessage = null;
    });
});

//Disable controls if user is of Observer group.
function disableControls()
{
  document.frmMain.Upload.disabled = true;
  document.frmMain.Upload.style.color = '#AEA0BF';
  
  document.frmMain.Import.disabled = true;
  document.frmMain.Import.style.color = '#AEA0BF';
  
}

function openCalBackWin()
{

  window.open("corrTabMenu.jsp?strSelect=selectServiceSetting" , 'topFrame')
  window.open("corrLeftPaneServiceSetting.jsp" ,'Left_Frame')
  var url = "corrRequest.jsp" + "?strUrl="+ '/cavisson.com';
  window.open(url,"Right_Frame");
  
}

function restrictedKeywordfun()
{
  var tempKeyword = "";
  
  for(var j = 0; j < arrFileRestrictedKey.length; j++)
  {
    if(j == 0)
      tempKeyword = tempKeyword + "'" + arrFileRestrictedKey[j] + "'";
    else  
      tempKeyword = tempKeyword + " or '" + arrFileRestrictedKey[j] + "'";
  }

  return tempKeyword;
}

function valFileName(fileName)
{
  var pattern = /^[a-zA-Z][a-zA-Z0-9!*()_;:,./-]*$/;

  if (!fileName.value.match(pattern))
  {    
    alert("Please enter valid file name.\r\nFile name must start with alpha.\r\nAllowed characters are alpha, numeric, and  special characters (!  * ( ) _ ; : , . - /)");
    fileName.focus();
    return false;
  }
  return true;
}

function validate()
{
  var variableNames = document.frmMain.txtParamName.value;
  var fileName = document.frmMain.txtFileName.value;
  var paramValue = document.frmMain.txtParamValue.value;
  var refresh = document.frmMain.lstRefresh.value;
  var mode = document.frmMain.lstMode.value;
  var variableNamesArr = variableNames.split( "," );

  var restrictedKeyword = restrictedKeywordfun();
  
  for ( var i = 0; i < variableNamesArr.length; i++ )
  {
    for(j = 0; j < arrFileRestrictedKey.length; j++)
    {
      // alert(variableNamesArr[i] + "  " + arrFileRestrictedKey[j]);
      if((variableNamesArr[i].toLowerCase()).startsWith(arrFileRestrictedKey[j].toLowerCase().toString()))
      {
        alert(" Can't give parameter name starting with " + restrictedKeyword + " because these keywords are used by system.");
        document.frmMain.txtParamName.focus();
        return false;
      }
    }
  }
  //checking for duplicate variable
  for ( var i = 0; i < variableNamesArr.length; i++ )
  {
    if(valVarName(variableNamesArr[ i ]) == false)
      return false;
    var count = 0;
    for ( var j = 0; j < variableNamesArr.length; j++ )
    {
      if(variableNamesArr[ i ] ==  variableNamesArr[ j ])
        count++;
    }
    if(count > 1)
    {
      alert("Parameter with same name already exists. Please use different name.");
      return false;
    }
  }

  if('addFileParam' == "addFileParam")
  {
    for ( var i = 0; i < variableNamesArr.length; i++ )
    {
      if(isDupRecord(variableNamesArr[i], "", "", arrVariableName, "", "", "Parameter names", "") == true)
        return false;
    }
  }
  else
  { 
    var arrEditMode = ''.split(",");
    var arrVarriableTemp = arrVariableName;
    
    for(j = 0 ; j < arrEditMode.length ; j++)
    {
      for(var i=0; i<arrVarriableTemp.length;i++ )
      { 
        if(arrVarriableTemp[i]==arrEditMode[j])
          arrVarriableTemp.splice(i,1); 
      }
    }
   
    for ( var i = 0; i < variableNamesArr.length; i++ )
    {
      if(isDupRecord(variableNamesArr[i], "", "", arrVarriableTemp, "", "", "Parameter names", "") == true)
         return false;
    }
  
  }  
  
  if(fileName == "")
  {
    alert("Please enter file name.");
    document.frmMain.txtFileName.focus();
    return false
  }

  if(valFileName(document.frmMain.txtFileName) == false)
    return false;

  if(fileName.length > 32)
  {
    alert("Please enter data file name is of maximum 32 characters.");
    document.frmMain.txtFileName.focus();
    return false;
  }
  
  if(AllowDelimeter() == false)
    return false;
 
  if(parseInt(document.frmMain.txtHeaderLine.value) >= parseInt(document.frmMain.txtFirstDataLine.value))
  {
    alert("First data line should be greater than Header line.");
    document.frmMain.txtFirstDataLine.focus();
    return false
  }

  if(document.frmMain.chkParamValue.checked == true)
  {
    if(paramValue == "")
    {
      alert("Please enter parameter value.");
      document.frmMain.txtParamValue.focus();
      return false
    }
  }

  if(refresh == "")
  {
    alert("Please select update value on.");
    document.frmMain.lstRefresh.focus();
    return false
  }
  
  if(mode == "")  
  {
    alert("Please select mode.");
    document.frmMain.lstMode.focus();
    return false
  }
  
}

//Validation functions
function valVarName(variableName)
{
  if(variableName == "")
  {
    alert("Enter parameter name.");
    document.frmMain.txtParamName.focus();
    return false;
  }

  var pattern = /^[a-zA-Z][a-zA-Z0-9_]*$/;
  if (!variableName.match(pattern))
  {    
    alert("Please enter valid parameter name.\r\nParameter name must start with Alpha.\r\nAllowed characters are alpha, numeric and underscore");
    document.frmMain.txtParamName.focus();
    return false;
  }
 
  if(variableName.length > 64)
  {
    alert("Please enter parameter name is of maximum 64 characters.");
    document.frmMain.txtParamName.focus();
    return false;
  }
  return true;
}

function clickOK()
{
  if(validate() == false)
    return false;
  
  document.frmMain.OK.style.color = 'AEA0BF';
  document.frmMain.OK.disabled = true;
  document.frmMain.Cancel.style.color = 'AEA0BF';
  document.frmMain.Cancel.disabled = true;

  //if the data is successfully saved the no need to popup the confirmation message
  warnMessage = null;
  
  submitJSP("okDetail", "")
}

function clickCancel()
{
  //commented all because if user stays on this page the button should be enabled 
  
  //document.frmMain.OK.style.color = 'AEA0BF';
  //document.frmMain.OK.disabled = true;
  //document.frmMain.Cancel.style.color = 'AEA0BF';
  //document.frmMain.Cancel.disabled = true;
  
  submitJSP("Cancel", "")
}

function clickCreate()
{
  var fileContents = document.frmMain.txtFileName.value;

  //in this case the page is refreshed so we set the warnMessage as null
  warnMessage = null;
  
  submitJSP("fileContent", fileContents)
}

function clickBrowser()
{
  //alert(document.frmMain.browser.value);
  if(document.frmMain.browser.value != "")
    submitJSP("browser", document.frmMain.browser.value)
}

function showDefaultValue()
{
  if(document.frmMain.chkParamValue.checked == true)
  {
    document.frmMain.txtParamValue.disabled = false;
  }
  else
    document.frmMain.txtParamValue.disabled = true;
}

function AllowDelimeter()
{
  var delimeter = trimString(document.frmMain.txtColumnDel.value);

  var pattern = /^[a-zA-Z0-9~`!@^*()#$%&+{}|<>?_;:,./ -]*$/;

  if (!delimeter.match(pattern))
  {    
    alert("Please enter valid delimeter.\r\nAllowed delimeter are alpha, numeric and special character (~`!@^*()#$%&+{}|<>?_;:,./ -)");
    document.frmMain.txtColumnDel.focus();
    return false;
  }

}

function indexAndParameter()
{
  var delimeter = trimString(document.frmMain.txtColumnDel.value);

  if(AllowDelimeter() == false)
    return false;

  var temp = "";
  var HeaderIndex;
  var paramName = "";
  var indexValue = "";
  
  var dataFileContent = document.frmMain.txtFileContents.value;
  
  var lineNumber = document.frmMain.txtHeaderLine.value;

  if((delimeter != "") && (document.frmMain.txtFileContents.value != "") && (lineNumber != "") && (lineNumber != 0))
  {
    temp = dataFileContent.split("\n");

    for(line = 0; line < temp.length; line++)
    {
      if((lineNumber-1) == line)
      {
        //alert(temp[line] + "  delimeter  " + delimeter);
        HeaderIndex = temp[line].split(delimeter);  
        break;
        //alert(HeaderIndex[0]);
      }
    }
  
    if(temp.length >= parseInt(lineNumber))
    for(var index = 0; index < HeaderIndex.length; index++)
    {
      if(index == 0)
        paramName = trimString(HeaderIndex[0]);
      else
        paramName = paramName + "," + trimString(HeaderIndex[index]);
          
      document.frmMain.txtParamName.value = paramName;
    }
  }
}

function showFirstDataLine()
{
  if(document.frmMain.txtHeaderLine.value >= document.frmMain.txtFirstDataLine.value)
    document.frmMain.txtFirstDataLine.value = (parseInt(document.frmMain.txtHeaderLine.value) + parseInt(1));
}

//this flag will passed to the next page
var checkFlag = "false";
function uploadFile()
{
  var dataFile = document.frmMain.txtFileName.value;
  var deli = document.frmMain.txtColumnDel.value;
  //if the warning message is not null then there is some changes in this page so we set the flag as true and passed it to next page
  if(warnMessage != null)
  {
    checkFlag = "true";
  }
  //set the warning message so that the no popup msg will come
  warnMessage = null;
  if(deli == "")
    deli = ",";
    
  // alert(dataFile);
  window.open('corrUploadDataFile.jsp?destFile='+dataFile+"&rowId="+'-1'+"&mode="+'addFileParam'+"&redirectFile=corrEditFileParam.jsp&deli=" + deli + "&checkFlag="+checkFlag,'upload',"fullscreen=no,toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,directories=no,location=no,width=700,height=300,left=100,top=100");
}

function importFromDB()
{
  var dataFile = document.frmMain.txtFileName.value;
  var deli = document.frmMain.txtColumnDel.value;
  //in case of DB also we do same of upload file
  if(warnMessage != null)
  {
    checkFlag = "true";
  }
  warnMessage = null;
  window.open('corrUploadDB.jsp?destFile='+dataFile+"&rowId="+'-1'+"&mode="+'addFileParam'+"&redirectFile=corrEditFileParam.jsp&deli="+deli + "&checkFlag="+checkFlag,'upload',"fullscreen=no,toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,directories=no,location=no,width=700,height=400,left=100,top=100");
}

function clickParam()
{
  if(document.frmMain.chkParamValue.checked)
  {
    document.frmMain.chkParamValue.checked = false;  
    showDefaultValue();
  }  
  else
  {
    document.frmMain.chkParamValue.checked = true;   
    showDefaultValue();
  }
}

/*** Instead of balloon we open the help section in Page Implemented By Richa Shastri ***/

function openWin()
{ 
  var width = 450;
  var height = 700;
  var left = parseInt((screen.availWidth/2) - (width/2));
  var top = parseInt((screen.availHeight/2) - (height/2));
  var detail = width + "_" + height + "_" + left + "_" + top;
  var windowFeatures = "width=" + width + ",height=" + height + ",status,resizable,left=" + left + ",top=" + top + "screenX=" + left + ",screenY=" + top  + ",scrollbars=1"; 
  myWindow = window.open("corrPageHelp.jsp?help=fileParam&detail="+detail,'searchParam',windowFeatures);
  //myWindow.moveTo(screen.width/2-300,screen.height/2-250);
  myWindow.focus();
}

function showSearchVar()
{ 
  document.write("<table cellpadding=0 cellspacing=0 width=98% valign=top border=0 align=center>");
  document.write("<tr><td>");

  document.write("<br><table  cellpadding='0' cellspacing='0' class='table' width=100%><tr><td class='tableTitle'>Dataset Parameter Detail &nbsp;");

  document.write("<a OnClick= openWin()><img  src='../images/question.png'></a>");
  
  document.write("</td></tr><tr> <td align='center' valign='top'><table width='95%' cellpadding='0' cellspacing='0'><br>");
  
  document.write("<table cellpadding=0 cellspacing=0 width=95% valign=top align=center border=0>");
   
  document.write("<tr><td width=20%  class = fieldLableOnColor>Parameter Name(s)&nbsp;</td><td width = 50% valign = middle align = left><input type = text  title = 'Parameter Name'class = valueOfTextBox  name = txtParamName onkeypress = 'return valEnteredKeyNoSpace(event)' style = width:75%  value = ''>&nbsp;");
  
  //new showHelp({title: 'Parameter Name',content: 'Datasets are used to source the values from text files. In Datasets multiple set names can be defined separated by \"\,\".'});
  
  document.write("</td></tr>");

  document.write("<tr><td>&nbsp;</td></tr>");
  
  //document.write("<tr><td width=20%  class = fieldLableOnColor>Data File Name&nbsp;</td><td width = 50% valign = middle align = left><input type = text class = valueOfTextBox  name = txtFileName style = width:75%  value = '' title = 'Enter absolute path'> <input type=Button class=button style='width:50;' value = 'View' name = 'View' onclick = 'clickCreate();'>    </td></tr>");

  //document.write("<tr><td width=20%  class = fieldLableOnColor>Data File Name&nbsp;</td><td width = 70% valign = middle align = left><input type = text class = valueOfTextBox  name = txtFileName style = width:75%  value = '' title = 'Enter absolute path'/>&nbsp;&nbsp;<input type=Button class=button style='width:50;' value = 'View' name = 'View' onclick = 'clickCreate();'></td><tr>");
  
  //document.write("<tr><td width=20%  class = fieldLableOnColor>File to Upload&nbsp;</td><td width = 70% valign = middle align = left><INPUT NAME='browser' TYPE='file' size=53 width:75%><input type=Button class=button style='width:50;' value = 'View' name = 'View' onclick = 'clickBrowser();'>&nbsp;&nbsp;<input type=Button class=button style='width:60; align:right' value = 'Upload' name = 'Upload' onclick = 'clickCreate();'></td></tr>");

  //document.write("<tr><td width=20%  class = fieldLableOnColor>File to Upload&nbsp;</td><td width = 70% valign = middle align = left><INPUT NAME='browser' TYPE='file' size=53 width:75%>&nbsp;&nbsp;<input type=Button class=button style='width:60; align:right' value = 'Upload' name = 'Upload' onclick = 'clickBrowser();'></td></tr>"); 

  document.write("<tr><td width=20%  class = fieldLableOnColor>Dataset File Name&nbsp;</td><td width = 70% valign = middle align = left><input type = text title='To define the file name on server from where the values need to take. If file name is start with / then it will be a absolute path otherwise it will start from script path.' class = valueOfTextBox  name = txtFileName style = width:75%  value = '' onkeypress = 'return valEnteredKeyNoSpace(event)'>");
  
  //new showHelp({title: 'Dataset File Name',content: 'To define the file name on server from where the values need to take. If file name is start with \'/\' then it will be a absolute path otherwise it will start from script path.'});
  
  document.write("&nbsp;&nbsp;<input type=Button class=button style='width:40;' value = 'View' name = 'View' onclick = 'clickCreate();'>&nbsp;<input type=Button class=button style='width:55;' value = 'Upload' name = 'Upload' onclick = uploadFile()><input type=Button class=button style='width:65;' value = 'Import' name = 'Import' onclick = importFromDB()></td><tr>");

  document.write("<tr><td width=20%  class = fieldLableOnColor>Dataset Contents</td><td width = 50% valign = middle align = left><table border=0 width=100%><tr><td><textarea name = txtFileContents rows=8 cols=40 wrap=OFF  title ='Data area to show the file contents. User can also write in to this and upload.' style = ' width:100%;overflow:auto;' ></textarea></td><td width=25% valign=top>&nbsp;");
  
  //new showHelp({title: 'Dataset Contents',content: 'Data area to show the file contents. User can also write in to this and upload.'});

  document.write("</td></tr></table></td><tr><tr><td>&nbsp;</td></tr>");

  document.write("<tr class = fieldLableOnColor><td width=20%  class = fieldLableOnColor>Header Line&nbsp;</td><td width = 50% valign = middle align = left><input type = text  title = 'To define the header line in the given file.'  class = valueOfTextBox  name = txtHeaderLine onclick='showFirstDataLine();' onkeypress = 'return valEnteredKeyN(event)' style = width:6%  value = '' title = 'Header Line'>&nbsp;")
  
  //new showHelp({title: 'Header Line',content: 'To define the header line in the given file.'});
  
  document.write("&nbsp;&nbsp;First Data Line&nbsp;&nbsp;<input type = text class = valueOfTextBox  name = txtFirstDataLine onkeypress = 'return valEnteredKeyN(event)' onclick='showFirstDataLine();' style = width:6%  value = '' title = 'To define from where the the data line started.'>&nbsp;");
  
  //new showHelp({title: 'First Data Line',content: 'To define from where the the data line started.'});
  
  document.write("&nbsp;&nbsp;Column Delimeter&nbsp;&nbsp;<input type = text  class = valueOfTextBox  style = 'align:right' name = txtColumnDel onkeypress = 'return valEnteredKeyNoSpace(event)' style = width:6%  value = '' title = 'To define the column delimeter for the given file, data will be spilt according to delimiter.'>&nbsp;")
  
  //new showHelp({title: 'Column Delimeter',content: 'To define the column delimeter for the given file, data will be spilt according to delimiter.'});
  
  document.write("&nbsp;<input type=Button class=button title= 'Click to get the parameter names form header line of dataset contents by spliting it on Column Delimeter.' style='width:190; align:right' value = 'Fetch Parameters From Header' name = 'Fetch Parameters From Header' onClick='indexAndParameter();'></td></tr><tr><td>&nbsp;</td></tr>");

  document.write("<tr><td width=20%  class = fieldLableOnColor>Update Value On&nbsp;</td><td width = 50% valign = middle align = left><select class = valueOfListBox  name = lstRefresh style = width:75%  title = 'This property has two options- i) Session: In this option value of the parameter is set once for each service request. It does not depend on how many times this parameter is used in response template. ii) Use: In this option value of the parameter is set every time it is used in the response template.'><option value=''> Select Value </option><option value='SESSION'> Session </option><option value='USE'> Use </option></select>&nbsp;");
  
  //new showHelp({title: 'Update Vaule On',content: 'This property has two options :<br><br><b> Session:</b> In this option value of the parameter is set once for each service request. It does not depend on how many times this parameter is used in response template.<br><b>Use:</b> In this option value of the parameter is set every time it is used in the response template.'});

  document.write("</td></tr><tr><td>&nbsp;</td></tr>");

  document.write("<tr><td width=20%  class = fieldLableOnColor>Row Selection Mode&nbsp;</td><td width = 50% valign = middle align = left><select class = valueOfListBox  name = lstMode style = width:75% title = 'This property has two options- i) Sequential: If user use the sequential option, then data will read form file in sequence. ii)Random:If user use the random option, then data will read form file in randomly.'><option value=''> Select Mode </option><option value='SEQUENTIAL'> Sequential </option><option value='RANDOM'> Random </option></select>&nbsp;");  
  
  //new showHelp({title: 'Row Selection Mode',content: 'This property has two options :<br><br><b> Sequential:</b> If user use the sequential option, then data will read form file in           sequence.<br><b>Random:</b> If user use the random option, then data will read form file in randomly.'});
 
  document.write("</td></tr><tr><td>&nbsp;</td></tr>");

  //document.write("<tr><td width=20%  class = fieldLableOnColor><input type='checkbox' name='chkParamValue' value='-S' onclick = \"showDefaultValue(this.value);\">Dataset Value(s)&nbsp;</td><td width = 50% valign = middle align = left><input type = text class = valueOfTextBox  name = txtParamValue style = width:75%  value = '' title = 'Dataset Value(s)'></td></tr>");
 
  document.write("<tr><td width=20%  class = fieldLableOnColor><b style='cursor:default'onclick =clickParam()>Parameter Value(s)&nbsp;</td><td width = 50% valign = middle align = left><input type='checkbox' name='chkParamValue' value='' onclick = \"showDefaultValue();\">&nbsp; <input type = text class = valueOfTextBox  name = txtParamValue style = width:75%  value = '' title = 'This option is used if user want to refer to contents of some other file for a particular column.Here user can tell which column means it is data and which column means a file path.' onkeypress = 'return valEnteredKeyNoSpace(event)'></td></tr> ");
  
  //new showHelp({title: 'Parameter Value(s)',content: 'This option is used if user want to refer to contents of some other file for a particular column.Here user can tell which column means it is data and which column means a file path.'});
  
  //document.write("<tr><td width=20%  class = fieldLableOnColor>&nbsp;</td><td width = 50% valign = middle align = left></td></tr>");

 // document.write("<tr><td>&nbsp;</td></tr>");

  //document.write("<tr><td colspan = 2 align =left class='textNote'>Note: If parameter value is to be taken from a file whose name is in the Data File Name, the enable Parameter values.<br> To specify field a file name as: F1=file;F3=file where \'F1\' specify first parameter and \'F3\' specify third parameter.</td></tr>");
  
  //document.write("</table>");
  //document.write("</td></tr>");

  document.write("<table><tr><td valign=top align=center>");
  document.write("<br>");

  document.write("<input type=Button class=button style='width:60;' value = 'OK' name = 'OK' onclick = 'clickOK();'>&nbsp;");  

  document.write("<input type=Button class=button style='width:60;' value = 'Cancel' name = 'Cancel' onclick = 'clickCancel();'>&nbsp;");  
  document.write("</td></tr></table>");
  document.write("<tr><td>&nbsp;</td></tr>");

  document.write("</table>");
  document.write("</td></tr>");
  //document.write("<tr><td>&nbsp;</td></tr>");
  document.write("</table>");
  
  /**document.write("<br><table  cellpadding='0' cellspacing='0' align = center class='table' width=98%><tr><td class='tableTitle'>Request File</td></tr><tr> <td align='center' valign='top'><table width='95%' cellpadding='0' cellspacing='0'><br>");
  document.write("<tr><td  valign = top align = center><textarea name = txtResponseFile rows=7 cols=70 wrap=VIRTUAL readonly='readonly'></textarea></td></tr>");
  document.write("</table>");**/
  
  //document.write("<tr><td>&nbsp;</td></tr>");
  document.write("</table></td></tr></table>");  
  
}

</script>


<!--  
  Name   : correlationHeader.htmlf
  Author : Jyoti
  Purpose: This file is for correlation GUI.It it to be included in all JSP
           on the top for for following :
           - Import of packages 
           - Initialization of beans and js
           - JSP variables which are common to all JSPs

  Modification History:
    29/03/10  : jyoti :3.6.2 -Initial Version
    15/02/12  : Manish:3.8.2 -Initial Version
  Notes  :
      None
-->

<html>
<head>
<link rel="stylesheet" href="../css/AdvancedNetstorm.css" type="text/css" media="all"/>
<link rel="stylesheet" href="../css/Netstorm.css" type="text/css" media="all"/>
<title>NetFunction (Controller_Proxy) - Add Dataset</title>

<link rel="stylesheet" type="text/css" href="../yui/css/menu.css"/>
<link rel="stylesheet" type="text/css" href="../yui/css/menu.css"/>
<link rel="stylesheet" type="text/css" href="../yui/css/fonts-min.css" />
<link rel="stylesheet" type="text/css" href="../yui/css/container.css" />


<style type="text/css">

div.yui-b p {
  margin: 0 0 .5em 0;
  color: #999;
}

div.yui-b p strong {
  font-weight: bold;
  color: #000;
}

div.yui-b p em {
  color: #000;
}

h1 {
  font-weight: bold;
  margin: 0 0 1em 0;
  padding: .25em .5em;
  background-color: #ccc;
}

#productsandservices {
  margin: 0 0 0px 0;
}

</style>


<!-- This method creating a menu with option.--->
<!-----------------------Start ----------------->


<script type="text/javascript">

/*
     Initialize and render the MenuBar when its elements are ready
     to be scripted.
*/

YAHOO.util.Event.onContentReady("productsandservices", function () {

/*
  Instantiate a MenuBar:  The first argument passed to the constructor
  is the id for the Menu element to be created, the second is an
   object literal of configuration properties.
*/

    var oMenuBar = new YAHOO.widget.MenuBar("productsandservices", {
                                                autosubmenudisplay: true,
                                                hidedelay: 750,
                                                lazyload: true});

/*
     Call the "render" method with no arguments since the
     markup for this MenuBar instance is already exists in
     the page.
*/

    oMenuBar.render();

});

function openSetting()
{
  window.open("../admin/setting.jsp", 'settings');
}

function setCookieForlogOut(c_name,exdays)
{
value = null;
var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
//alert(c_value);
document.cookie=c_name + "=" + c_value;
}

function openLogout()
{
 setCookieForlogOut("width",1);
 submitJSP("logout", "");
}

function openNFUserHelp()
{	
  var helpId = window.open("/NFGuide/WebHelp/NFUserGuide.htm", "NetstormOnLineHelp", "toolbars=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, left=50, top=50");
  helpId.focus();
}

function openNFTutorialHelp()
{	
  var helpId = window.open("/NFTutorial/WebHelp/NetFunctionTutorial.htm", "NetstormOnLineHelp1", "toolbars=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, left=50, top=50");
  helpId.focus();
}
 
function openNFCAPI()
{	
  var helpId = window.open("/NFCApi/WebHelp/HPDCApiReq.htm", "NetstormOnLineHelp1", "toolbars=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, left=50, top=50");
  helpId.focus();
}

function openNFAgentAPI()
{	
  var helpId = window.open("/clientAPIdocs/index.html", "NetstormOnLineHelp", "toolbars=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, left=50, top=50");
  helpId.focus();
}

function openNFAbout()
{	
  var helpId = window.open("../admin/about.jsp", "NetstormOnLineHelp", "toolbars=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=600,height=300 left=50, top=50");
  helpId.focus();
}

function openwsdlWin()
{
  var width = 900;
  var height = 300;
  var left = parseInt((screen.availWidth/2) - (width/2));
  var top = parseInt((screen.availHeight/2) - (height/2));
  var windowFeatures = "width=" + width + ",height=" + height + ",status,resizable,left=" + left + ",top=" + top + "screenX=" + left + ",screenY=" + top  + ",scrollbars=1"; 
  //myWindow = window.open("corrPageHelp.jsp?help=fileParam",'',windowFeatures);
  var wsdlWin = window.open("../correlation/corrAddWSDLFile.jsp?destFile=&rowId=0&mode=service&redirectFile=corrServices.jsp", "WSDLService", windowFeatures);
  wsdlWin.focus();
}

</script>
</head>

<body class="yui-skin-sam" onload="onLoadFunction()" >

<form name="frmMain" method="post">
<input type="hidden" name="strOperName" value="">
<input type="hidden" name="strOperValue" value="">



   <!--<table width="100%" align = center border="1" cellpadding="0" cellspacing="0" style =height:6% id="header">-->
       <table border="0" width="100%" style='height:6%;background-color:#F2F2F2; background-repeat:repeat-x;' >
 <!--<tr><td  align="center" border = "1">&nbsp;</td> </tr>-->
     
     <tr><td align="center" colspan="4">
      <!--<table width="100%" border="0" cellpadding="0" cellspacing="0">-->
      <table border="0" width="100%" style='height:6%;background-color:#F2F2F2;background-repeat:repeat-x;' >
         
         <tr><td colspan="2" align="left" class="screenTitleWithout" title = '/cavisson.com'><b><script> genTitle("Add Dataset","","test (/cavisson.com)"); </script></b></td></tr>
         
      </table>
  </td></tr>
</table>
<table border="0" width="100%">


<tr><td>  
<script>showSearchVar();</script>
<script>showDesciption('fileParam');</script>
</td></tr>

<!--  
  Name   : correlationFooter.htmlf
  Author : jyoti
  Purpose: For closing tags
           <Fill details here>
  Notes  :
    None
  Modification History:
    29/03/10  : jyoti :3.6.2 -Initial Version

-->



<!-- Check for Observer Group Users. -->

</form>
</body>
</html>


